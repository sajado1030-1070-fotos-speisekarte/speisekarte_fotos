<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sajado 1030 &amp; 1070</title>
  <style>
    :root{
      --bg:#ffffff; --text:#111; --muted:#6b7280; --border:#e5e7eb;
      --card:#fff; --shadow:0 6px 22px rgba(0,0,0,.08);
      --radius:18px; --gap:16px; --container:1200px;
      --accent:#b3261e; --accent-weak:#fff1f0;
      --sidebar-w:330px; --hdr-h:64px;
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    html,body{margin:0;background:var(--bg);color:var(--text);
      font-family:ui-sans-serif,-apple-system,Segoe UI,Roboto,Helvetica,Arial;line-height:1.5}

    /* Header */
    header{
      position:sticky; top:0; z-index:20; background:var(--bg);
      border-bottom:1px solid var(--border);
      transition:transform .28s ease, box-shadow .28s ease;
      will-change: transform;
      height: var(--hdr-h);
      display:flex; align-items:center;
    }
    header.is-hidden{ transform: translateY(calc(-1 * var(--hdr-h))); box-shadow:none; }

    /* Header-Inhalt als 3-Spalten-Grid */
    header .container{
      max-width:var(--container);
      margin:0 auto;
      padding:8px 14px;
      display:grid;
      grid-template-columns:44px 1fr 44px;
      align-items:center;
    }

    /* Hamburger links, nicht über dem Logo */
    .hamburger{
      width:44px;height:44px;
      display:grid;place-items:center;
      cursor:pointer;border-radius:12px;
      transition:background .2s ease, transform .2s ease;
      user-select:none;-webkit-tap-highlight-color:transparent;
    }
    .hamburger:hover{ background:#f7f7f7 }
    .ham-lines{ width:26px;height:18px;position:relative; }
    .ham-lines span{
      position:absolute; left:0; right:0; height:3px; background:#111;
      border-radius:3px; transition:transform .28s ease, opacity .2s ease, top .28s ease;
    }
    .ham-lines span:nth-child(1){ top:0 }
    .ham-lines span:nth-child(2){ top:7.5px }
    .ham-lines span:nth-child(3){ top:15px }
    .hamburger.is-open .ham-lines span:nth-child(1){ top:7.5px; transform:rotate(45deg) }
    .hamburger.is-open .ham-lines span:nth-child(2){ opacity:0 }
    .hamburger.is-open .ham-lines span:nth-child(3){ top:7.5px; transform:rotate(-45deg) }

    /* Logo mittig */
    .logo{display:flex;align-items:center;gap:12px;justify-self:center}
    .logo img{height:64px;width:auto;transition:transform .2s ease}
    .logo img:active{transform:scale(.98)}
    @media (min-width:1100px){ .logo img{height:52px} }
    .logo h1{font-size:clamp(16px,2vw,20px);margin:0;font-weight:800;letter-spacing:.2px}

    /* Rechter Spacer für echte Zentrierung */
    .hdr-spacer{width:44px;height:44px}

    main{max-width:var(--container);margin:0 auto;padding:16px}
    section{padding:24px 0;scroll-margin-top:86px}
    h2{margin:0 0 12px;font-size:clamp(18px,2.2vw,24px);font-weight:800;letter-spacing:.2px}

    /* Grid + Bilder */
    .grid{display:grid;gap:var(--gap);grid-template-columns:repeat(auto-fill,minmax(200px,1fr));align-items:start}
    @media (min-width:620px){ .grid{grid-template-columns:repeat(auto-fill,minmax(240px,1fr))} }
    .card{
      background:var(--card);border:2px solid #f1f1f1;border-radius:var(--radius);
      overflow:hidden;box-shadow:var(--shadow);
      transition:transform .18s ease,box-shadow .18s ease,border-color .18s ease;
      display:flex;align-items:center;justify-content:center;padding:10px;
    }
    .card:hover{transform:translateY(-2px);border-color:var(--accent-weak);box-shadow:0 10px 26px rgba(0,0,0,.1)}
    .card img{display:block;width:100%;height:auto;max-height:420px;object-fit:contain;background:#fff;border-radius:12px}
    @media (min-width:900px){ .card img{max-height:500px} }
    .empty{color:var(--muted);background:#fafafa;border:1px dashed var(--border);border-radius:12px;padding:14px;text-align:center;grid-column:1/-1}

    /* Sidebar */
    .sidebar-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.35);display:none;z-index:30;opacity:0;transition:opacity .22s ease}
    .open-backdrop{display:block;opacity:1}
    .sidebar{
      position:fixed;inset:0 auto 0 0;width:var(--sidebar-w);max-width:88vw;
      background:#fff;border-right:1px solid var(--border);
      transform:translateX(-100%);transition:transform .28s cubic-bezier(.22,.61,.36,1);
      z-index:40;display:flex;flex-direction:column;box-shadow:10px 0 28px rgba(0,0,0,.06);
    }
    .sidebar.open{transform:translateX(0)}
    .sidebar-header{padding:16px;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:12px;
      background:linear-gradient(0deg,#fff 0%,#fff 45%,var(--accent-weak) 45%,var(--accent-weak) 100%)}
    .sidebar-header img{height:40px}
    .sidebar-header .brand{font-weight:800;font-size:16px;letter-spacing:.3px}
    .cat-list{padding:10px;overflow:auto}
    .cat-list a{
      display:block;padding:14px;margin:8px 0;text-decoration:none;color:#111;border:1px solid var(--border);
      border-radius:12px;background:#fff;font-weight:600;
      transform:translateX(-6px);opacity:0;animation:itemIn .35s ease forwards;
    }
    .cat-list a:nth-child(n){animation-delay:calc(var(--i,1)*0.03s)}
    .cat-list a:hover{background:var(--accent-weak);border-color:#ffd9d6}
    .cat-list a.active{background:var(--accent);color:#fff;border-color:var(--accent)}
    @keyframes itemIn{to{transform:translateX(0);opacity:1}}

    .footer{border-top:1px solid var(--border);padding:22px 16px;text-align:center;color:var(--muted)}

    /* Desktop */
    @media (min-width:1100px){
      body{
        display:grid;
        grid-template-columns:var(--sidebar-w) 1fr;
        grid-template-rows:auto 1fr;
        grid-template-areas:
          "side header"
          "side main";
        align-items:start;
      }
      .sidebar{grid-area:side;position:sticky;top:0;height:100vh;transform:none;box-shadow:none}
      header{grid-area:header;position:sticky;top:0}
      main{grid-area:main;max-width:unset;padding:18px 24px}
      .sidebar-backdrop{display:none!important}
      .hamburger{display:none}
    }

    @media (prefers-reduced-motion:reduce){
      *{animation-duration:.001ms!important;animation-iteration-count:1!important;transition-duration:0ms!important;scroll-behavior:auto!important}
    }
  </style>
</head>
<body>
  <!-- Sidebar -->
  <div class="sidebar-backdrop" id="sidebarBackdrop"></div>
  <aside class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <img src="assets/logo.png" alt="Logo" onerror="this.style.display='none'">
      <div class="brand">Kategorien / Categories</div>
    </div>
    <nav class="cat-list" id="catList">
      <a href="#vorspeisenappetizers">Vorspeisen/Appetizers</a>
      <a href="#nigiri-sushi">Nigiri-Sushi</a>
      <a href="#single-luxury-plates">Single & Luxury Plates</a>
      <a href="#signature-rolls">Signature Rolls</a>
      <a href="#sashimi">Sashimi</a>
      <a href="#hot-rolls-sushi-burger">Hot Rolls & Sushi Burger</a>
      <a href="#classic-rolls">Classic Rolls</a>
      <a href="#signature-dishes">Signature Dishes</a>
      <a href="#wok">Wok</a>
      <a href="#spicy-korean">Spicy Korean</a>
      <a href="#thai-rotcurrythai-redcurry">Thai Rotcurry/Thai Redcurry</a>
      <a href="#ramenudon">Ramen/Udon</a>
      <a href="#fried-ricenoodles">Fried Rice/Noodles</a>
      <a href="#dessert">Dessert</a>
    </nav>
  </aside>

  <!-- Header -->
  <header id="siteHeader">
    <div class="container">
      <div class="hamburger" id="hamburger" aria-label="Menü öffnen" aria-controls="sidebar" aria-expanded="false">
        <div class="ham-lines"><span></span><span></span><span></span></div>
      </div>

      <div class="logo">
        <img src="assets/logo.png" alt="Logo">
        <h1>Sajado 1030 &amp; 1070</h1>
      </div>

      <!-- rechter Spacer -->
      <div class="hdr-spacer" aria-hidden="true"></div>
    </div>
  </header>

  <!-- Content -->
  <main>
    <section id="vorspeisenappetizers"><h2>Vorspeisen/Appetizers</h2><div class="grid" data-category="vorspeisenappetizers"></div></section>
    <section id="nigiri-sushi"><h2>Nigiri-Sushi</h2><div class="grid" data-category="nigiri-sushi"></div></section>
    <section id="single-luxury-plates"><h2>Single & Luxury Plates</h2><div class="grid" data-category="single-luxury-plates"></div></section>
    <section id="signature-rolls"><h2>Signature Rolls</h2><div class="grid" data-category="signature-rolls"></div></section>
    <section id="sashimi"><h2>Sashimi</h2><div class="grid" data-category="sashimi"></div></section>
    <section id="hot-rolls-sushi-burger"><h2>Hot Rolls & Sushi Burger</h2><div class="grid" data-category="hot-rolls-sushi-burger"></div></section>
    <section id="classic-rolls"><h2>Classic Rolls</h2><div class="grid" data-category="classic-rolls"></div></section>
    <section id="signature-dishes"><h2>Signature Dishes</h2><div class="grid" data-category="signature-dishes"></div></section>
    <section id="wok"><h2>Wok</h2><div class="grid" data-category="wok"></div></section>
    <section id="spicy-korean"><h2>Spicy Korean</h2><div class="grid" data-category="spicy-korean"></div></section>
    <section id="thai-rotcurrythai-redcurry"><h2>Thai Rotcurry/Thai Redcurry</h2><div class="grid" data-category="thai-rotcurrythai-redcurry"></div></section>
    <section id="ramenudon"><h2>Ramen/Udon</h2><div class="grid" data-category="ramenudon"></div></section>
    <section id="fried-ricenoodles"><h2>Fried Rice/Noodles</h2><div class="grid" data-category="fried-ricenoodles"></div></section>
    <section id="dessert"><h2>Dessert</h2><div class="grid" data-category="dessert"></div></section>
  </main>

  <div class="footer">© <span id="year"></span> — Alle Rechte vorbehalten.</div>

  <script>
    const CATEGORIES=[
      "vorspeisenappetizers","nigiri-sushi","single-luxury-plates","signature-rolls","sashimi",
      "hot-rolls-sushi-burger","classic-rolls","signature-dishes","wok","spicy-korean",
      "thai-rotcurrythai-redcurry","ramenudon","fried-ricenoodles","dessert"
    ];

    function loadManifest(slug){
      return fetch("image/"+slug+"/manifest.json",{cache:"no-store"})
        .then(r=>r.ok?r.json():null)
        .then(d=>d&&Array.isArray(d.images)?d.images:null)
        .catch(()=>null);
    }

    function addCard(grid,src){
      const c=document.createElement("div");c.className="card";
      const i=document.createElement("img");
      i.loading="lazy";i.decoding="async";i.src=src;i.alt="";
      c.appendChild(i);grid.appendChild(c);
    }

    function setupSidebarLinks(){
      const links=document.querySelectorAll(".cat-list a");
      links.forEach(a=>{
        a.addEventListener("click",e=>{
          e.preventDefault();
          const id=a.getAttribute("href").slice(1);
          const t=document.getElementById(id);
          if(t){const y=t.getBoundingClientRect().top+window.pageYOffset-80;
            window.scrollTo({top:y,behavior:"smooth"});}
          closeSidebar();
          links.forEach(l=>l.classList.remove("active"));
          a.classList.add("active");
        });
      });
    }

    function observeSections(){
      if(!("IntersectionObserver"in window))return;
      const items=[...document.querySelectorAll(".cat-list a")];
      const map={};items.forEach(a=>map[a.getAttribute("href").slice(1)]=a);
      const io=new IntersectionObserver(es=>{
        es.forEach(e=>{
          if(e.isIntersecting){
            items.forEach(i=>i.classList.remove("active"));
            const l=map[e.target.id];if(l)l.classList.add("active");
          }
        });
      },{rootMargin:"-40% 0px -55% 0px",threshold:0});
      document.querySelectorAll("main>section").forEach(s=>io.observe(s));
    }

    function setupHeaderAutoHide(){
      const h=document.getElementById("siteHeader");
      let lastY=window.pageYOffset,tick=false;
      function onScroll(){
        const y=window.pageYOffset;
        if(tick)return;
        window.requestAnimationFrame(()=>{
          const d=window.matchMedia("(min-width:1100px)").matches;
          if(!d){
            if(y>lastY&&y>30)h.classList.add("is-hidden");
            else h.classList.remove("is-hidden");
          }else h.classList.remove("is-hidden");
          lastY=y;tick=false;
        });tick=true;
      }
      window.addEventListener("scroll",onScroll,{passive:true});
    }

    const sidebar=document.getElementById("sidebar");
    const backdrop=document.getElementById("sidebarBackdrop");
    const burger=document.getElementById("hamburger");

    function openSidebar(){
      sidebar.classList.add("open");
      backdrop.classList.add("open-backdrop");
      burger.classList.add("is-open");
      burger.setAttribute("aria-expanded","true");
    }
    function closeSidebar(){
      sidebar.classList.remove("open");
      backdrop.classList.remove("open-backdrop");
      burger.classList.remove("is-open");
      burger.setAttribute("aria-expanded","false");
    }

    burger.addEventListener("click",()=>sidebar.classList.contains("open")?closeSidebar():openSidebar());
    backdrop.addEventListener("click",closeSidebar);

    function init(){
      document.getElementById("year").textContent=new Date().getFullYear();
      (function fill(i){
        if(i>=CATEGORIES.length){setupSidebarLinks();observeSections();setupHeaderAutoHide();return;}
        const s=CATEGORIES[i];
        const g=document.querySelector('.grid[data-category="'+s+'"]');
        loadManifest(s).then(f=>{
          if(!f||!f.length)g.innerHTML='<div class="empty">Keine Bilder gefunden oder manifest.json fehlt.</div>';
          else f.forEach(file=>addCard(g,"image/"+s+"/"+file));
          fill(i+1);
        });
      })(0);
    }
    init();
  </script>
</body>
</html>
